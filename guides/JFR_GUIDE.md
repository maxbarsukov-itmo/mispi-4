# JFR

### Event Producer

Источник событий

### Внедрение событий

- Java Virtual Machine Tool Interface (рантайм инструментирование), в отличии от Agent API более низкоуровневый;
- JVM Hooks (GC Hooks, Thread Hooks).

### Event Buffer

- Кольцевой буфер для хранения событий;
- Разные буферы для разных типов событий;
- Каждый поток пишет в свой буфер, минимизирует затраты на блокировки.

### Event Consumer

Запись событий с буфера на диск: события записываются пакетами что бы облегчить ввод-вывод.

### Жизненный цикл события

1. Создание события;
2. Буферизация события;
3. Запись события.


### Прочее

- Гибкая настройка того, что нужно смотреть и с какой детализацией;
- Адаптивное семплирование - динамически изменять частоту выборки событий в зависимости от нагрузки системы;
- Нативная поддержка JVM.
